{"id":205,"date":"2019-08-06T20:56:07","date_gmt":"2019-08-07T01:56:07","guid":{"rendered":"http:\/\/blog.ucadministrator.com\/?p=205"},"modified":"2019-08-06T20:56:07","modified_gmt":"2019-08-07T01:56:07","slug":"virtual-port-channel-i-though-it-was-port-channel","status":"publish","type":"post","link":"https:\/\/virtualizedtaylor.wpcomstaging.com\/2019\/08\/06\/virtual-port-channel-i-though-it-was-port-channel\/","title":{"rendered":"Virtual Port Channel? I though it was Port Channel?"},"content":{"rendered":"<p>Over the past few weeks, I feel like I have been doing nothing except virtual port channels (vPC), because of that it seems right to review what they are and what they are not.<\/p>\n<h4>Port-Channels? What are they and how do they apply to vPC?<\/h4>\n<p>In order to talk about vPC we first need to have a good understanding of Port Channels. For those who have completed their CCNA you should remember a term called EtherChannel. Well EtherChannel = Port-Channel and they allow us to take multiple physical interfaces and combine them together to increase bandwidth or redundancy. Port-Channels are also seen and treated as a single switch port with Spanning Tree (STP). This part of the reason why we can see a bandwidth increase because the traffic is split between all active links since there is no loop.<\/p>\n<h4>Virtual Port Channels Overview<\/h4>\n<p>vPC expand on the functionality of Port-Channels including some features that are present in VSS or Virtual Switch System. While Port-Channels are tied down to a single switch chassis, Virtual Port Channels are able to span multiple chassis. a feature that is present with VSS on the Catalyst line of switches. vPC configuration will create a single control plane that handles the communication of \u00a0between the primary and secondary switch. All of this will live with a single vPC Domain.<\/p>\n<p>These communications are sent over the &#8220;Peer-Link&#8221;. The &#8220;Peer-Link&#8221; is typically 2-4 high speed links that are configured in a Port-Channel between switches. You have the ability to use up to 16 links for the &#8220;Peer-Link&#8221; but in my experiences, the &#8220;peer-links&#8221; have been configured with 2 x 40GB DAC or 2 x 100GB DAC.<\/p>\n<p>Alongside of the &#8220;Peer-Link&#8221; there is also a &#8220;KeepAlive&#8221; link. This link can be configured as a port-channel, single routed port or the out of band management interface. If you have the ports it is best practice to configure it using a port-channel. \u00a0The purpose of the KeepAlive is to assist in the event of an Active-Active vPC Peer as well as monitor the peer switch for failure.<\/p>\n<h4>Management? How does that change?<\/h4>\n<p>While switches in a vPC configuration act as a single logical switch, they are not physically managed as a single switch like a VSS setup. vPC peers have independent management planes so you will need to mirror your configuration on both switches.<\/p>\n<p>This one has caused me trouble before. Missing a simple value like an allowed vlan on a Port-Channel can cause the vPC to go to an inconsistent state which can and will prevent the port-channel from coming up and up.<\/p>\n<h4>What devices support vPC?<\/h4>\n<p>vPC is primarily a datacenter feature and will be present on the Cisco Nexus platform. This includes the Nexus 2000, 3000 5000, 7000, and 9000 series. You should always check the documentation on your switch before setting up vPC. Certain topologies are not supported on all switch models and firmware versions.<\/p>\n<h4>Nexus vPC configuration:<\/h4>\n<p>We will look at this in the next post. Stay tuned!<\/p>\n<p>&nbsp;<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Over the past few weeks, I feel like I have been doing nothing except virtual port channels (vPC), because of that it seems right to review what they are and what they are not. Port-Channels? What are they and how do they apply to vPC? In order to talk about vPC we first need to &hellip; <a href=\"https:\/\/virtualizedtaylor.wpcomstaging.com\/2019\/08\/06\/virtual-port-channel-i-though-it-was-port-channel\/\" class=\"more-link\">Continue reading <span class=\"screen-reader-text\">Virtual Port Channel? I though it was Port Channel?<\/span> <span class=\"meta-nav\">&rarr;<\/span><\/a><\/p>\n","protected":false},"author":62406288,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_coblocks_attr":"","_coblocks_dimensions":"","_coblocks_responsive_height":"","_coblocks_accordion_ie_support":"","advanced_seo_description":"","jetpack_seo_html_title":"","jetpack_seo_noindex":false,"jetpack_post_was_ever_published":false,"_jetpack_newsletter_access":"","_jetpack_dont_email_post_to_subs":false,"_jetpack_newsletter_tier_id":0,"footnotes":"","jetpack_publicize_message":"Virtual Port Channel? I though it was Port Channel? #cisco #nexus #vpc #datacenter #networking","jetpack_publicize_feature_enabled":true,"jetpack_social_post_already_shared":false,"jetpack_social_options":{"image_generator_settings":{"template":"highway","enabled":false}}},"categories":[28532,7426,22008],"tags":[],"jetpack_publicize_connections":[],"jetpack_featured_media_url":"","jetpack_likes_enabled":true,"jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/paI6yL-3j","jetpack-related-posts":[],"_links":{"self":[{"href":"https:\/\/virtualizedtaylor.wpcomstaging.com\/wp-json\/wp\/v2\/posts\/205"}],"collection":[{"href":"https:\/\/virtualizedtaylor.wpcomstaging.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/virtualizedtaylor.wpcomstaging.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/virtualizedtaylor.wpcomstaging.com\/wp-json\/wp\/v2\/users\/62406288"}],"replies":[{"embeddable":true,"href":"https:\/\/virtualizedtaylor.wpcomstaging.com\/wp-json\/wp\/v2\/comments?post=205"}],"version-history":[{"count":5,"href":"https:\/\/virtualizedtaylor.wpcomstaging.com\/wp-json\/wp\/v2\/posts\/205\/revisions"}],"predecessor-version":[{"id":210,"href":"https:\/\/virtualizedtaylor.wpcomstaging.com\/wp-json\/wp\/v2\/posts\/205\/revisions\/210"}],"wp:attachment":[{"href":"https:\/\/virtualizedtaylor.wpcomstaging.com\/wp-json\/wp\/v2\/media?parent=205"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/virtualizedtaylor.wpcomstaging.com\/wp-json\/wp\/v2\/categories?post=205"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/virtualizedtaylor.wpcomstaging.com\/wp-json\/wp\/v2\/tags?post=205"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}